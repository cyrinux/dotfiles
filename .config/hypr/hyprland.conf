exec-once = systemctl --user import-environment DISPLAY WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = hash dbus-update-activation-environment 2>/dev/null && dbus-update-activation-environment --systemd DISPLAY WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = systemctl --user start sway-session.target

monitor=eDP-1,preferred,auto,1.3
exec-once = swaybg -c "##1a1c1c" -m solid_color

exec = cggrep scli      || cglaunch --term -o font_size=12 scli
exec = cggrep neomutt   || cglaunch --term neomutt
exec = cggrep nextcloud || cglaunch nextcloud

input {
    kb_layout = fr-hyper,us,ua
    kb_variant = basic,,
    kb_options grp:shifts_toggle,grp:shift_caps_toggle,caps:hyper
    touchpad {
        natural_scroll = true
    }
}

binds {
    workspace_back_and_forth = true
}

misc {
    focus_on_activate = true
    mouse_move_enables_dpms = true
    disable_hyprland_logo = true
}

general {
    gaps_in = 5
    gaps_out = 6 1f1e1e
    border_size = 1
    col.active_border = 0xff5c5649
    col.inactive_border = 0xff1f1e1e
    layout = dwindle
    no_cursor_warps = true
}

decoration {
    blur_new_optimizations = true
    drop_shadow = false
    shadow_range = false
    shadow_render_power = false
    col.shadow = false
    col.shadow_inactive = false
    rounding = 10
    blur = false
    blur_size = false # minimum 1
    blur_passes = false # minimum 1, more passes = more resource intensive.
}

animations {
    enabled = yes
    bezier = myBezier, 0.05, 0.9, 0.1, 1.05
    animation = windows, 1, 3, myBezier
    animation = windowsOut, 1, 7, default, popin 80%
    animation = border, 1, 10, default
    animation = fade, 1, 7, default
    animation = workspaces, 1, 3, default
}

dwindle {
    # See https://wiki.hyprland.org/Configuring/Dwindle-Layout/ for more
    pseudotile = yes # master switch for pseudotiling. Enabling is bound to hyper + P in the keybinds section below
    preserve_split = yes # you probably want this
}

master {
    # See https://wiki.hyprland.org/Configuring/Master-Layout/ for more
    new_is_master = true
}

gestures {
    # See https://wiki.hyprland.org/Configuring/Variables/ for more
    workspace_swipe = on
    workspace_swipe_fingers = 4
}

# Specific window configuration
windowrulev2 = workspace 2, class:^org.qutebrowser.qutebrowser$
windowrulev2 = workspace 3, class:^scli$
windowrulev2 = workspace 4, class:^neomutt$

windowrulev2 = float, class:^dmenu
windowrulev2 = size 60% 70%, class:^dmenu
windowrulev2 = size 50% 20%, class:^dmenu-(browser|emoji)$
windowrulev2 = center, class:^dmenu

windowrulev2 = float, class:^qalculate-gtk$
windowrulev2 = size 40% 60%, class:^qalculate-gtk$
windowrulev2 = center, class:^qalculate-gtk$

windowrulev2 = float, class:^udiskie$

windowrulev2 = float, class:^mpv$
windowrulev2 = size 40% 60%, class:^mpv$
windowrulev2 = move 100%-20 20, class:^mpv$

# Mod keys
$win = MOD3
$hyper = MOD4
$shift = SHIFT
$alt = ALT

submap=resize

binde=,h,resizeactive,-15 0
# binde=CTRL,h,resizeactive,-10 0
binde=,l,resizeactive,15 0
# binde=CTRL,l,resizeactive,10 0
binde=,k,resizeactive,0 -15
# binde=CTRL,k,resizeactive,0 -10
binde=,j,resizeactive,0 15
# binde=CTRL,j,resizeactive,0 10

bind=,escape,submap,reset
bind=,return,submap,reset

submap=reset


submap = audio

bind = , h, exec, sway-audio bt-connect-headset
bind = , h, submap, reset
bind = , a, exec, sway-audio bt-connect-headphones
bind = , a, submap, reset
bind = , s, exec, sway-audio bt-connect-speakers
bind = , s, submap, reset
bind = , t, exec, sway-audio bt-toggle-profile
bind = , t, submap, reset
bind = , d, exec, sway-audio bt-disconnect
bind = , d, submap, reset

bind = , return, submap, reset
bind = , escape, submap, reset

submap = reset


submap = system

bind = , e, exec, sway-exit exit
bind = , e, submap, reset
bind = , l, exec, sway-exit lock
bind = , l, submap, reset
bind = , s, exec, sway-exit suspend
bind = , s, submap, reset
bind = , r, exec, sway-exit reboot
bind = , r, submap, reset
bind = $shift, h, exec, sway-exit shutdown
bind = $shift, h, submap, reset
bind = , t, exec, ttoggle -t
bind = , t, submap, reset
bind = , u, exec, ttoggle -x
bind = , u, submap, reset
bind = , o, exec, udiskie-umount -a
bind = , o, submap, reset
bind = , d, exec, darkman toggle
bind = , d, submap, reset

bind = , return, submap, reset
bind = , escape, submap, reset

submap = reset

# Scroll through existing workspaces with hyper + scroll
bind = $hyper, mouse_down, workspace, e+1
bind = $hyper, mouse_up, workspace, e-1

# Move/resize windows with hyper + LMB/RMB and dragging
bindm = $hyper, mouse:272, movewindow
bindm = $hyper, mouse:273, resizewindow

# Terminal
bind = $hyper, Return, exec, cglaunch --term
bindr = $hyper, Hyper_L, exec, cglaunch --term
bind = $win, Return, exec, alacritty
bind = $win$shift, Return, exec, alacritty -e /bin/bash

# Launcher
bind = $hyper, equal, exec, sh -c "pkill -x qalculate-gtk || cglaunch qalculate-gtk"
bind = , XF86Calculator, exec, sh -c "pkill -x qalculate-gtk || cglaunch qalculate-gtk"
bind = $hyper, d, exec, pkill wldash || cglaunch wldash
bindr = $win, SUPER_L, exec, pkill wldash || cglaunch wldash
bind =	$hyper, w, exec, sh -c "pgrep -x dmenu && pkill dmenu || cglaunch browser"
bind = $hyper, p, exec, "wl-clipboard-manager lock; cglaunch passmenu -p pass; wl-clipboard-manager unlock"
bind = $hyper, n, exec, sh -c "pgrep -x dmenu && pkill dmenu || cglaunch networkmanager_dmenu"
bind = $win, p, exec, cglaunch pass-gen
bind = $win, m, exec, cglaunch udiskie-dmenu
bind = $hyper, f, exec, cglaunch wl-clipboard-manager dmenu
bind = $hyper, Backspace, exec, cglaunch emoji-dmenu
bind = $win$shift, b, exec, sh -c "sleep 1 && hyprctl dispatch dpms off eDP-1"

# Kill focused window
bind = $win, q, killactive

# Change focus
bind = $hyper, h, movefocus, l
bind = $hyper, j, movefocus, d
bind = $hyper, k, movefocus, u
bind = $hyper, l, movefocus, r

# Move focused window
bind = $win, h, movewindow, l
bind = $win, j, movewindow, d
bind = $win, k, movewindow, u
bind = $win, l, movewindow, r

# Enter fullscreen mode
bind = $win, f, fullscreen, 1
bind = $win$shift, f, fullscreen, 0

# Container layout: split
# bind = $hyper, e, layout toggle split

# Container layout: tabbed
# bind = $hyper, w, layout tabbed

# Split
# bind = $hyper, s, split toggle
bind = $hyper, w, pseudo, # dwindle
bind = $hyper, s, togglesplit, # dwindle

# Focus the parent container
# bind = $hyper, u, focus parent

# Focus the child container
# bind = $hyper, i, focus child

# Toggle tiling / floating
bind = $win, space, togglefloating, active

# Make the currently focused window a scratchpad
# bind = $win, minus, move scratchpad

# Show the first scratchpad window
# bind = $hyper, minus, scratchpad show

# Change focus between tiling / floating windows
# bind = $hyper, space, focus mode_toggle

# Notification actions
bind = $hyper, q,          exec, swaync-client --close-all
bind = $alt, space,        exec, swaync-client --toggle-dnd

# System actions
bind = , XF86PowerOff,          exec, sway-exit shutdown
bind = , XF86Eject,             exec, sway-exit lock
bind = , Pause,                 exec, sway-exit lock
bind = , XF86Sleep,             exec, systemctl -i suspend
bind = , XF86Search,            exec, firefox "https://google.com"

# cut / copy / paste win alt leader
bind = $alt, x, exec, wtype -P XF86Cut
bind = $alt, c, exec, wtype -P XF86Copy
bind = $alt, v, exec, wtype -P XF86Paste

# Brightness control
binde = , XF86MonBrightnessUp,         exec, light -A 1%
binde = , XF86MonBrightnessDown,       exec, light -U 1%
binde = $shift, XF86MonBrightnessUp,   exec, light -A 5%
binde = $shift, XF86MonBrightnessDown, exec, light -U 5%
binde = $win, XF86MonBrightnessUp,     exec, light -s sysfs/leds/kbd_backlight -A 5%
binde = $win, XF86MonBrightnessDown,   exec, light -s sysfs/leds/kbd_backlight -U 5%


# Media control
bindl = , XF86AudioPlay, exec, playerctl --player playerctld play-pause
bindl = , XF86AudioNext, exec, playerctl --player playerctld next
bindl = , XF86AudioPrev, exec, playerctl --player playerctld previous
bindl = $hyper, Up, exec, playerctl --player playerctld play-pause
bindl = $hyper, Down, exec, playerctl --player playerctld play-pause
bindl = $hyper, Left, exec, playerctl --player playerctld previous
bindl = $hyper, Right, exec, playerctl --player playerctld next

bindl = , XF86AudioMute, exec, sway-audio output-mute
binde = , XF86AudioRaiseVolume, exec, sway-audio output-volume-up
binde = , XF86AudioLowerVolume, exec, sway-audio output-volume-down
bindl = $win, Up, exec, sway-audio output-mute
bindl = $win, Down, exec, sway-audio output-mute
bindl = $win, Right, exec, sway-audio output-volume-up
bindl = $win, Left, exec, sway-audio output-volume-down
bindl = $win$shift, Up, exec, sway-audio input-mute
bindl = , XF86AudioMicMute, exec, sway-audio input-mute
bindl = , XF86AudioRecord, exec, sway-audio input-mute
bindl = $win$shift, Down, exec, sway-audio input-mute
bindl = $win$shift, Right, exec, sway-audio input-volume-up
bindl = $win$shift, Left, exec, sway-audio input-volume-down

# Jump between windows
bind = $hyper,g,togglegroup
bind = $alt,Tab,changegroupactive

bind = $alt,Tab,cyclenext,
bind = $alt,Tab,bringactivetotop,



# Switch to workspace using number row
bind = $hyper, ampersand, workspace, 1
bind = $hyper, eacute, workspace, 2
bind = $hyper, quotedbl, workspace, 3
bind = $hyper, apostrophe, workspace, 4
bind = $hyper, parenleft, workspace, 5
bind = $hyper, minus, workspace, 6
bind = $hyper, egrave, workspace, 7
bind = $hyper, underscore, workspace, 8
bind = $hyper, ccedilla, workspace, 9
bind = $hyper, agrave, workspace, 10

# Switch to workspace using keypad
bind = $hyper, KP_1, workspace, 1
bind = $hyper, KP_2, workspace, 2
bind = $hyper, KP_3, workspace, 3
bind = $hyper, KP_4, workspace, 4
bind = $hyper, KP_5, workspace, 5
bind = $hyper, KP_6, workspace, 6
bind = $hyper, KP_7, workspace, 7
bind = $hyper, KP_8, workspace, 8
bind = $hyper, KP_9, workspace, 9
bind = $hyper, KP_0, workspace, 10

# Move window to workspace using number row
bind = $win, ampersand, movetoworkspace, 1
bind = $win, eacute, movetoworkspace, 2
bind = $win, quotedbl, movetoworkspace, 3
bind = $win, apostrophe, movetoworkspace, 4
bind = $win, parenleft, movetoworkspace, 5
bind = $win, minus, movetoworkspace, 6
bind = $win, egrave, movetoworkspace, 7
bind = $win, underscore, movetoworkspace, 8
bind = $win, ccedilla, movetoworkspace, 9
bind = $win, agrave, movetoworkspace, 10

# Move window to workspace using keypad
bind = $win, KP_1, movetoworkspace, 1
bind = $win, KP_2, movetoworkspace, 2
bind = $win, KP_3, movetoworkspace, 3
bind = $win, KP_4, movetoworkspace, 4
bind = $win, KP_5, movetoworkspace, 5
bind = $win, KP_6, movetoworkspace, 6
bind = $win, KP_7, movetoworkspace, 7
bind = $win, KP_8, movetoworkspace, 8
bind = $win, KP_9, movetoworkspace, 9
bind = $win, KP_0, movetoworkspace, 10

# Modes
bind = $win, a, submap, audio
bind = $hyper, r, submap, resize
bind = $win, Escape, submap, system
# bind = $win, m, submap workspaces_monitors

# Screen recording
bind = , Print,      exec, cglaunch sway-screenshot
bind = , XF86LaunchA, exec, cglaunch sway-screenshot
bind = $hyper, Print,       exec, cglaunch sway-screenshot window
bind = $hyper, XF86LaunchA, exec, cglaunch sway-screenshot window
bind = $hyper$shift, Print,       exec, cglaunch sway-gif-area
bind = $hyper$shift, XF86LaunchA, exec, cglaunch sway-gif-area
bind = $win$shift, Print,         exec, cglaunch sway-screenshare
bind = $win$shift, XF86LaunchA,   exec, cglaunch sway-screenshare
bind = $win, i,                   exec, cglaunch hyprpicker | wl-copy

