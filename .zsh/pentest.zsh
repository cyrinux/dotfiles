
# Pentest
alias kali-poweron='vmware -x /run/media/cyril/PortableSSD/VMWARE/Kali-Linux-2019.1-vm-amd64/Kali-Linux-2019.1-vm-amd64.vmx'
tmux-connect() {/usr/bin/ssh -t $@ "tmux attach || tmux new";}
kali() {
  tmux-connect -X kali "$@"
}
# Vuln scan
scan(){
 sudo docker run --rm -ti menzo/sn1per-docker sniper -o -re -fp -t $1
}


alias hacklab-start='cd ~/library/src/personal/docker-hacklab && sudo docker-compose up -d'
alias hacklab-bridge-shell='cd ~/library/src/personal/docker-hacklab && sudo docker-compose exec hacklab_bridge /bin/zsh'
alias hacklab-pia-shell='cd ~/library/src/personal/docker-hacklab && sudo docker-compose exec hacklab_pia /bin/zsh'
alias stego-tools='mkdir -p ~/pentest; sudo docker run -it --rm -v $(pwd)/pentest:/data dominicbreuker/stego-toolkit /bin/bash'
alias sn1per-kali-start="sudo docker run -i -t --name sn1per -w /root/ -e DISPLAY=$DISPLAY -v /tmp/.X11-unix:/tmp/.X11-unix --shm-size 2g --net=host sn1pe:latestr 2>/dev/null || sudo docker start sn1per && sn1per-kali-shell"
alias sn1per-kali-shell="sudo docker start sn1per; sudo docker exec -it sn1per bash"
alias sn1per-kali-stop="sudo docker stop sn1per-kali-container"
alias jok3r-kali-shell="sudo docker start jok3r-kali-container; sudo docker exec -it jok3r-kali-container bash"
alias jok3r-kali-start="sudo docker run -i -t --name jok3r-kali-container -w /root/jok3r -e DISPLAY=$DISPLAY -v /tmp/.X11-unix:/tmp/.X11-unix --shm-size 2g --net=host koutto/jok3r 2>/dev/null || sudo docker start jok3r-kali-container && jok3r-kali-shell"
alias jok3r-kali-stop="sudo docker stop jok3r-kali-container"

alias avion="sudo systemctl start dump1090.service & chromium http://localhost/index.html &"
alias skyrock='rtl_fm -f 96.0M -M wbfm -p 10  |  play -r 32k -t raw -e s -b 16 -c 1 -V1 - # skyrock'
alias pocsag='rtl_fm -p 10 -s 22050 -f 466.133M  -M fm  - | multimon-ng -t raw -a POCSAG512 -a POCSAG1200 -a POCSAG2400 -f alpha /dev/stdin'
alias juicyshop="sudo docker run --rm -p 3000:3000 bkimminich/juice-shop"

function dockershell() {
    sudo docker run --rm -i -t --entrypoint=/bin/bash "$@"
}

function dockershellsh() {
    sudo docker run --rm -i -t --entrypoint=/bin/sh "$@"
}

function dockershellhere() {
    dirname=${PWD##*/}
    sudo docker run --rm -it --entrypoint=/bin/bash -v `pwd`:/${dirname} -w /${dirname} "$@"
}

function dockershellshhere() {
    sudo docker run --rm -it --entrypoint=/bin/sh -v `pwd`:/${dirname} -w /${dirname} "$@"
}

function dockerwindowshellhere() {
    dirname=${PWD##*/}
    sudo docker -c 2019-box run --rm -it -v "C:${PWD}:C:/source" -w "C:/source" "$@"
}

alias dirsearch="dirsearch -u $1 -e $2 -t 200 -H 'X-FORWARDED-FOR: 127.0.0.1'"

impacket() {
    sudo docker run --rm -it rflathers/impacket "$@"
}

smbservehere() {
    local sharename
    [[ -z $1 ]] && sharename="SHARE" || sharename=$1
    sudo docker run --rm -it -p 445:445 -v "${PWD}:/tmp/serve" rflathers/impacket smbserver.py -smb2support $sharename /tmp/serve
}

nginxhere() {
    sudo docker run --rm -it -p 80:80 -p 443:443 -v "${PWD}:/srv/data" rflathers/nginxserve
}

webdavhere() {
    sudo docker run --rm -it -p 80:80 -v "${PWD}:/srv/data/share" rflathers/webdav
}

metasploit() {
    sudo docker run --rm -it -v "${HOME}/.msf4:/home/msf/.msf4" metasploitframework/metasploit-framework ./msfconsole "$@"
}

metasploitports() {
    sudo docker run --rm -it -v "${HOME}/.msf4:/home/msf/.msf4" -p 8443-8500:8443-8500 metasploitframework/metasploit-framework ./msfconsole "$@"
}

msfvenomhere() {
    sudo docker run --rm -it -v "${HOME}/.msf4:/home/msf/.msf4" -v "${PWD}:/data" metasploitframework/metasploit-framework ./msfvenom "$@"
}

reqdump() {
    sudo docker run --rm -it -p 80:3000 rflathers/reqdump
}

postfiledumphere() {
    sudo docker run --rm -it -p80:3000 -v "${PWD}:/data" rflathers/postfiledump
}

nmap-onion() {
  sudo docker run --rm -it milesrichardson/onion-nmap $@
}

crackme() {
  ctf_name=$1
  sudo docker run -d \
    --rm \
    -h "${ctf_name}" \
    --name "${ctf_name}" \
    -v "$(pwd)/${ctf_name}:/ctf/work" \
    -p 23946:23946 \
    --cap-add=SYS_PTRACE \
    skysider/pwndocker

  sudo docker exec -it "${ctf_name}" /bin/bash
}

amass() {
  sudo -A docker run --rm -v ~/ctf/amass:/amass/ caffix/amass:latest $@
}

whatweb() {
 sudo docker run -it --rm ilyaglow/whatweb -v $@
}

sudomy() {
  sudo docker run -v ~/ctf/sudomy/output:/usr/lib/sudomy/output -v ~/ctf/.sudomy.api:/usr/lib/sudomy/sudomy.api -it --rm screetsec/sudomy:v1.1.0 $@
}




